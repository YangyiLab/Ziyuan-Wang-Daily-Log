- [2021-9-1](#2021-9-1)
  - [PLAN](#plan)
  - [群体遗传-自然选择模型复习](#群体遗传-自然选择模型复习)
  - [花书](#花书)
- [2021-9-2](#2021-9-2)
  - [PLAN](#plan-1)
  - [神经网络四分类输出出现问题](#神经网络四分类输出出现问题)
  - [RNN学习](#rnn学习)
    - [基本模型](#基本模型)
    - [更新函数](#更新函数)
    - [梯度](#梯度)
  - [论文阅读](#论文阅读)
- [2021-9-3](#2021-9-3)
  - [PLAN](#plan-2)
  - [GLMM数学推理](#glmm数学推理)
    - [R语言编程](#r语言编程)
    - [GWAS 应用](#gwas-应用)
  - [dataset skew](#dataset-skew)
  - [群体遗传-中性](#群体遗传-中性)
    - [多样性原因](#多样性原因)
- [2021-9-4](#2021-9-4)
  - [PLAN](#plan-3)
  - [Pairwise Alignment](#pairwise-alignment)
    - [Smith-Waterman 扩展](#smith-waterman-扩展)
  - [深度学习](#深度学习)
    - [文本表示模型](#文本表示模型)
  - [RNN-seq2seq](#rnn-seq2seq)
    - [Concept](#concept)
    - [features](#features)
    - [模型组成](#模型组成)
- [2021-9-5](#2021-9-5)
  - [PLAN](#plan-4)
  - [分子进化problem](#分子进化problem)
- [2021-9-6](#2021-9-6)
  - [PLAN](#plan-5)
  - [百面面试整理](#百面面试整理)
    - [余弦距离](#余弦距离)
    - [过拟合欠拟合](#过拟合欠拟合)
    - [SVM](#svm)
  - [分子进化 Problem](#分子进化-problem)
- [2021-9-7](#2021-9-7)
  - [PLAN](#plan-6)
  - [NLP N-gram](#nlp-n-gram)
  - [SVM SOM](#svm-som)
  - [逻辑回归](#逻辑回归)
    - [分类问题](#分类问题)
- [2021-9-8](#2021-9-8)
  - [PLAN](#plan-7)
  - [百面决策树](#百面决策树)
    - [CART ID3 C4.5区别](#cart-id3-c45区别)
    - [先剪枝，后剪枝区别](#先剪枝后剪枝区别)
  - [群体遗传两种类$\chi^2$检验](#群体遗传两种类chi2检验)
  - [生态恢复论文修改点](#生态恢复论文修改点)
- [2021-9-9](#2021-9-9)
  - [PLAN](#plan-8)
  - [序列分析](#序列分析)
    - [FSA 模型](#fsa-模型)
    - [显著性](#显著性)
- [2021-9-10](#2021-9-10)
  - [PLAN](#plan-9)
- [2021-9-11](#2021-9-11)
  - [PLAN](#plan-10)
  - [百面chapter4 LDA & PCA](#百面chapter4-lda--pca)
    - [PCA](#pca)
    - [LDA](#lda)
- [2021-9-12](#2021-9-12)
  - [PLAN](#plan-11)
- [2021-9-13](#2021-9-13)
  - [PLAN](#plan-12)
- [2021-9-14](#2021-9-14)
  - [PLAN](#plan-13)
  - [Markov Model and Sequence Analysis](#markov-model-and-sequence-analysis)
    - [Markov Model](#markov-model)
    - [HMM 三类问题应用](#hmm-三类问题应用)
    - [PHMM序列对比](#phmm序列对比)
  - [非监督](#非监督)
    - [K-means](#k-means)
    - [高斯](#高斯)
- [2021-9-15](#2021-9-15)
  - [PLAN](#plan-14)
  - [Qini Xia](#qini-xia)
  - [G4论文结果](#g4论文结果)
- [2021-9-16](#2021-9-16)
  - [PLAN](#plan-15)
  - [序列分析 进化树overview](#序列分析-进化树overview)
    - [转座子项目两个思路](#转座子项目两个思路)
    - [建树溯祖思路](#建树溯祖思路)
  - [G4 论文进一步梳理](#g4-论文进一步梳理)
- [2021-9-16](#2021-9-16-1)
  - [PLAN](#plan-16)
  - [森林群体文章故事思路](#森林群体文章故事思路)
    - [PLAN](#plan-17)
  - [G4论文思路](#g4论文思路)
    - [distribution部分](#distribution部分)
    - [stability 部分](#stability-部分)
    - [HKA部分](#hka部分)
- [2021-9-18](#2021-9-18)
  - [PLAN](#plan-18)
- [2021-9-19](#2021-9-19)
  - [向前神经网络](#向前神经网络)
    - [布尔函数和隐层](#布尔函数和隐层)
    - [激活函数](#激活函数)
    - [交叉熵和平方误差](#交叉熵和平方误差)
- [2021-9-20](#2021-9-20)
  - [论文 Inferring Developmental Stage Composition from Gene Expression in Human Malaria](#论文-inferring-developmental-stage-composition-from-gene-expression-in-human-malaria)
    - [观感](#观感)
- [2021-9-22](#2021-9-22)
- [2021-9-23](#2021-9-23)
  - [识别G4方法](#识别g4方法)
- [2021-9-24](#2021-9-24)
  - [解决服务器git clone慢问题](#解决服务器git-clone慢问题)
  - [拆分fasta 按照染色体命令](#拆分fasta-按照染色体命令)
  - [按照要求截取fasta代码](#按照要求截取fasta代码)
- [2021-9-25](#2021-9-25)
  - [PLAN](#plan-19)
  - [GFF -> BED](#gff---bed)
  - [拟南芥project](#拟南芥project)
  - [phage](#phage)
- [2021-9-26](#2021-9-26)
  - [PLAN](#plan-20)
  - [phage](#phage-1)
  - [Stone](#stone)
  - [1001 Genome](#1001-genome)
- [2021-9-27](#2021-9-27)
  - [PLAN](#plan-21)
- [2021-9-28](#2021-9-28)
  - [PLAN](#plan-22)
  - [统计fold change代码](#统计fold-change代码)
  - [VSCode 反复输入密码](#vscode-反复输入密码)
  - [统计fasta碱基数](#统计fasta碱基数)
- [2021-9-29](#2021-9-29)
  - [PLAN](#plan-23)
  - [LAB](#lab)
  - [bedtool](#bedtool)
    - [Intersect](#intersect)
  - [计算TE覆盖率步骤](#计算te覆盖率步骤)
- [2021-9-30](#2021-9-30)
  - [PLAN](#plan-24)


# 2021-9-1
## PLAN
+ **Gre阅读2填空2**
+ **群体遗传复习**
+ **QTL复习**
+ **深度学习花书overview**

## 群体遗传-自然选择模型复习
+ 单基因3等位基因模型
+ 双位点模型 

$T=t\quad$ $AA:w_{AA}p^2\quad$  $Aa:w_{Aa}pq \quad$  $AA:w_{aa}q^2$
$$p_{t+1}=\frac{w_{AA}p^2+w_{Aa}pq}{\bar{w}}$$
通过此式推导出双位点下一状态配子基因频率
+ $N_e$和$s$对比

## 花书
PCA降维的证明，通过降维编码恢复，的Frobenius范数在正交条件下的约束求解等价于通过特征值分解

$$\mathop{\argmin}_{d}  Tr(d^TX^TXd) \mathop{subject\quad to d^Td=1}$$

等价于协方差矩阵特征值

# 2021-9-2
## PLAN
+ **Gre阅读2填空2**
+ **4-分类问题调试神经网络**
+ **RNN overview**
+ **Katie 论文复习**

## 神经网络四分类输出出现问题
参考下已普遍应用的框架

## RNN学习
### 基本模型
+ 经典模型
+ 导师驱动预测
### 更新函数
从$t= 1$到$t = \tau$的每个时间步，我们应用以下更新方程：
$$a^{(t)} = b + \textbf{W} h^{(t-1)} + \textbf{U} x^{(t)}\\
  h^{(t)} = \tanh(a^{(t)} ), \\
  o^{(t)} = c + \textbf{V}h^{(t)}, \\
  \hat y^{(t)} = {softmax}(o^{(t)}) $$

### 梯度
同全连接网络
估计U,V,W,b,c 对每个变量求偏导

## 论文阅读
GLMM doi:10.1111/evo.13476

# 2021-9-3
## PLAN
+ **Gre阅读2 填空2**
+ **机器学习面经overview**
+ 深度学习RNN
+ **GLMM整理+论文整理(Ferris)**
+ **群体遗传**
+ **探究解决类别不平衡方法**

## GLMM数学推理

$$Y=\mathbf{\beta}^T\mathbf{X}+e$$

一般线性模型 简单线性模型其实是一个仅仅包含了固定效应的模型

**GLMM**
我们用误差项e来表示了其他一个不可控因素的影响。但是， 实际上，在误差项e中仍有一些因素是需要我们考虑的。我们可以把误差项e中的一部分拿出来，作为随机效应部分添加到模型中，也就形成了既包含“固定效应”，又包含“随机效应”的混合效应模型。

### R语言编程
```R
mod= lmer(data = , formula = y ~ Fixed_Factor + (Random_intercept + Random_Slope | Random_Factor))
```

随机因子可以体现在截距也可以体现在斜率上，随机因子体现的是**方差** 从而减小误差项e的值 **我们无法把所有的随机因素都考虑在内，我们只是尽可能的在误差项中剥离出一些随机因素的影响。**

数学模型
$$Y=(\mathbf{\beta}+\sum Condition^1_i \mathbf{\beta_i})\mathbf{X}+(\alpha+\sum Condition^2_i\alpha)+e'$$

### GWAS 应用
link https://gwaslab.com/2021/04/09/gwas%E7%9A%84%E7%BA%BF%E6%80%A7%E6%B7%B7%E5%90%88%E6%A8%A1%E5%9E%8Blmm-linear-mixed-model/

背景：解决早期的GWAS研究使用的模型为固定效应的线性模型，但通常会受两方面混淆因素的影响:
+ 群体结构/分层 （population structure/ stratification）：研究群体中存在有不同祖先（ancestry）的亚群体（subgroup）
+ 隐性关联（cryptic relatedness）：研究样本之间存在未知的亲缘关系

数学模型
$$\mathbf{Y}=\mathbf{W}\mathbf{\beta}+\mathbf{G_s}\lambda+e$$

Fixed effect: $W$ 和 $\beta$ $G_s$ $\lambda$
Random effect: g 
$$g\sim N(0,\sigma^2_g\mathbf{\phi})$$
error: e

## dataset skew
After I used Random Forest to train the classifier. When I am handling the test dataset, I will use predict the probability and filter those whose max prob lower than a thredhold in order to maintain as much as possible data and have a good accuracy.

when the thredhold is 0.45
I can maintain 72% data and have a 80% accuracy when I am dealing with a 4-class classification.

数据集不平衡解决方案:

+ 不对数据进行过采样和欠采样，但使用现有的集成学习模型，如随机森林
+ 输出随机森林的预测概率，调整阈值得到最终结果
+ 选择合适的评估标准，如precision@n

## 群体遗传-中性
### 多样性原因
尽管drift的固定或loss 很强，但由于$N_e$较大，平衡杂合度由有效群体和变异度觉得，这两项越大杂合度越高，即使drift作用大，由于群体较大，基因的多样性一样大。

# 2021-9-4
## PLAN
+ **Gre 套题1**
+ **深度学习RNN**
+ **百面chapter1**
+ **生物序列overview**
+ **phage训练**

## Pairwise Alignment
### Smith-Waterman 扩展
寻找相似区域
+ 扩展包括寻找多处相似区域并进行连配 (如果序列一条或两条都比较长,通过设置阈值T决定分段数，和可识别的同源序列数量)

+ 交叠匹配(一条序列包含另一条的情况) 实现方法匹配可以起始于左端和顶端,匹配结束于右侧和底端，同时可以做重复序列查找实现。

## 深度学习
### 文本表示模型
Key Words: Bag of words, TF-IDF, topic model
$$TF\text{-}IDF(d,t)=TF(d,t)\times IDF(t)$$ 
TF:在d中t词频
$IDF(T)=log\frac{papers_{total}}{papers_{contains(t)}+1}$

N-gram N连单词划分

## RNN-seq2seq
### Concept
输入$\mathbf{(x^{(1)},x^{(2)},\text{...} ,x^{(\tau)})}$
通过第一层RNN训练结果为$\mathbf{C}$定长特征向量
再利用$\mathbf{C}$进行RNN训练，输出定长的$\mathbf{(y^{(1)},y^{(2)},\text{...},y^{(ny)})}$

### features
输入不定长，输入输出不等长。

### 模型组成
包括两个RNN
+ 第一个RNN输入为不定长序列，输出单一状态特征$h_{\tau}(x)$
+ 第二个RNN为通过$h_{\tau}(x)$ 训练输出等长度$\mathbf{(y^{(1)},y^{(2)},\text{...},y^{(ny)})}$

# 2021-9-5
## PLAN
+ **Gre 阅读2填空2**
+ **深度学习RNN pytorch 实现overview**
+ 百面chapter2
+ **群体遗传分子进化**


## 分子进化problem
+ Diverge
+ Poison Model
+ Diverge 和分子钟替换的区别是什么？为什么要分为两步相加

# 2021-9-6
## PLAN
+ **Gre阅读2填空2**
+ **百面chapter3-SVM + 西瓜书复习**
+ **群体遗传中性进化problem整理**

## 百面面试整理
### 余弦距离
+ 维度较高时，余弦距离仍然能保持相同为1，相交为0相反为-1的性质，欧氏距离(闵可夫斯基距离)受维数影响大，数值范围不固定
总的来说欧氏距离体现数值绝对差异，余弦距离体现方向上相对差异
+ 余弦距离满足自反性(正定性)、对称性但不满足三角不等式
### 过拟合欠拟合
过拟合:考虑到了噪声影响

过拟合处理方法:
+ 增加数据
+ 降低模型复杂度
+ 正则化方法
+ ensemble方法

欠拟合:
+ 添加新特征
+ 增加模型复杂度
+ 减小正则化系数
### SVM
+ 线性可分的样本点投影到超平面上必线性不可分
+ 使用高斯核后，只要不存在$i\not ={j}$ 时$f(x_i)=f(x_j)$必可以找到高斯核使其线性可分训练误差为0，但不一定适用于test dataset
+ 训练误差为0的SVM分类器一定存在
+ 加入松弛变量后，不一定找到训练误差为0的分类器 原因训练目标函数改变了

## 分子进化 Problem
Diverge 和分子钟替换的区别是什么？为什么要分为两步相加

Diverge前的突变分离微店计算为每一代为$\mu$个突变，可证明每一代的突变位点能够固定下来只与突变频率有关

Diverge后分子钟理论的计算方式基于泊松过程，分别计算分离位点并相加。

# 2021-9-7
## PLAN
+ **Gre阅读2填空2**
+ **百面SVM SVM-SMO**
+ **百面逻辑回归**
+ **phage分组神经网络回归调参**
+ **RNN框架学习**
+ phage基因组论文整理

## NLP N-gram
Application in Gene Annotation

## SVM SOM
算法 找到第一个$a_i$变量方法，搜索违反kkt条件的，按照顺序找，找到$a_2$方法为，计算$\mathbin{max} \quad E_1-E_2$,   E表示偏差$E_i=f(x_i)-y_i$

## 逻辑回归
### 分类问题
可以看作GLMM 对于不同类别进行不同的线性回归，由于$y$为离散型随机变量

# 2021-9-8
## PLAN
+ **phage分组神经网络回归调参**
+ **RNN框架学习**
+ **群体遗传**
+ **Gre阅读2填空2**
+ **phage基因组论文整理**
+ **江苏论文修**
+ **百面决策树复习**

## 百面决策树
### CART ID3 C4.5区别
+ 从评价纯度指标上 ID3 信息熵增益 C4.5 信息增益比，利用一个特征的分散程度矫正 CART gini index
+ 从因变量指标上 ID3 离散型 C4.5 CART 分类问题和回归问题都可以解决
+ 对于缺失值 ID3无法处理 
### 先剪枝，后剪枝区别
+ 先剪枝 再做split时，判断是否达到阈值
+ 后剪枝，对于每个内部节点利用指标进行判定

## 群体遗传两种类$\chi^2$检验
HKA MK 利用非自然选择区域 MK 5'端 HKA 无义突变 作为中性理论值，构造$\chi^2$检验的理论值，构造自由度为1的检验

## 生态恢复论文修改点
+ 语言正规，时间要指明
+ $\beta$多样性需要修改，修改为多样本共同检验
+ 顺序逻辑需要修改
+ 方法16S方法直接用原来的，宏基因组去网上找

# 2021-9-9
## PLAN
+ **Gre阅读2填空2**
+ **phage分组神经网络回归调参**
+ **序列分析chapter2&3**
+ **百面chapter4**

## 序列分析
### FSA 模型
FSA 保持多个状态，维护多个数组，时间复杂度相同利用自动机模型
### 显著性
利用Sigmoid函数

# 2021-9-10
## PLAN
+ **Gre阅读2填空2**
+ **phage分组神经网络回归调参**
+ **序列分析chapter2&3**


# 2021-9-11
## PLAN
+ **phage识别软件文献阅读**
+ **Gre套题1**
+ **百面chapter4**

## 百面chapter4 LDA & PCA
### PCA
+ 计算协方差矩阵 $S=\mathbf{x} \mathbf{x^T}$ 由于方差和为$tr(S)$，经过特征值求解后$\mathbf{\omega x} \mathbf{x^T\omega^T}$为对角阵 $diag (\lambda_1,\lambda_1,...,\lambda_n)$,降维后选择高方差
+ PCA求值方法为最小化$D(x)$
+ PCA可以理解为归一化后每个点到超平面的距离和最小和和最小化

### LDA
+ 最小化问题，组间距离/方差

# 2021-9-12
## PLAN
+ **Gre阅读2填空2**
+ **功能分析结果论文完成**

# 2021-9-13
## PLAN
+ **调试好nog代码和图**
+ **生物序列chapter3&4**
+ **Gre填空2阅读2**

# 2021-9-14
## PLAN
+ **Gre填空2阅读2**
+ **生物序列chapter3&4**
+ **修改审稿人1问题**
+ **百面chapter5**
+ **准备转座子和G4资料**

## Markov Model and Sequence Analysis
### Markov Model
例 利用马尔可夫转移概率矩阵去判断cpg岛和飞cpg区域的区别，首先对于cpg区域和非cpg区域构建转移概率矩阵
### HMM 三类问题应用
+ 计算cpg区域可能性
+ 通过碱基排列和参数，估计是否是cpg
+ 参数估计 BW算法
### PHMM序列对比
首先回忆FSA有限自动机比较方式，有限自动机需要维护三个矩阵，PHMM将其中的参数值换为了状态转移概率，发射概率作为找到路径的参数。再通过递归法进行估计 

## 非监督
### K-means
问题：
+ 局部最优
+ 受噪声影响大
+ **需要制定分类类别**
  + 分类类别方法  手肘法 Gap 法 核函数法(针对高维数据)
+ 优化方法
  + K-means++ 逐渐split类别
  + IsoData 包括分裂合并操作
### 高斯
求解方法: EM

# 2021-9-15
## PLAN
+ **Gre填空2阅读2**
+ **修改文章中审稿人1问题**
+ **百面chapter5**
+ **G4文章阅读**

## Qini Xia
+ 阅读论文 Selection and thermostability suggest G-quadruplexes are novel functional elements of the human genome
+ 翻译金书毅论文到中文
+ Genome 1001 API

## G4论文结果
+ Uneven density of G4 loci across the genome 比较fold change G4 loci vs average 
+ G4 stability differs among genic regions and nongenic
functional regions 利用小提琴做检验 疑问 **stability score**

# 2021-9-16
## PLAN
+ **GRE阅读4**
+ **百面概率图模型**
+ **序列分析 进化树overview**
+ **因果推论overview**
+ **G4 论文进一步梳理**

## 序列分析 进化树overview
### 转座子项目两个思路
+ 利用重复序列联配算法配对
+ 基于SNP定位

### 建树溯祖思路
极大似然法，推断$t_i$

## G4 论文进一步梳理
eQTL
https://xsliulab.github.io/Workshop/week32/eqtl%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95.html

# 2021-9-16
## PLAN
+ GRE阅读4
+ **返修论文伪代码**
+ **修改森林群体文章**
+ **阅读G4论文**

## 森林群体文章故事思路
通过alpha beta rda 功能分析共同证明夏天有变化，冬天变化小
### PLAN
+ 筛选冬夏差异 Venn图柱状图等 尤其关注碳
+ 修改措辞

## G4论文思路
### distribution部分
+ 下载序列
+ 注释
+ 在不同位置统计 包括基因功能区非基因功能区
+ 统计检验
### stability 部分
+ 利用软件评分
+ 进行统计检验
### HKA部分
+ 下载274条人类和猩猩序列
+ 对于G4区域做HKA检验
+ 不同区域分别检验
+ 说明G4起作用部分 即自然选择程度较大的部分

# 2021-9-18
## PLAN
+ **GRE 套题**
+ Gre 阅读4
+ **修改SPS score描述**
+ **nog 探索**
+ **收尾phage**

# 2021-9-19
+ **Gre 阅读3**
+ **The book of why**
+ **向前神经网络**

## 向前神经网络
### 布尔函数和隐层
**思路** 通过需要子式最多的范式，利用卡诺图可视化，**析取式**。
n个合取式相加，需要n个神经元

n个输入变量最大可能出现$2^{n-1}$个简单合取式相加（彼此互斥）

结论:
+ 对于单层需要$2^{n-1}$个
+ 对于多隐层需要$2log_2N$个层，$3(n-1)$个神经元

### 激活函数
+ 梯度消失，对于sigmoid 和 tanh  当$z$趋向于正无穷或负无穷时，梯度为0
+ ReLU优势
  + 计算复杂度小
  + 有效解决梯度雄安是
  + 单侧抑制(可以过滤负值梯度)
+ ReLU 局限性 **神经元死亡**

### 交叉熵和平方误差
+ 交叉熵适合多分类
+ 平方误差适合连续性回归

# 2021-9-20
+ **Gre阅读4**
+ **前向神经网络训练技巧**
+ **the book of why**
+ **Cordy论文**

## 论文 Inferring Developmental Stage Composition from Gene Expression in Human Malaria
网址 https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1003392#pcbi-1003392-g001
### 观感
quadprog why?

steps:
+ learn the $\beta$ from known data
+ predict the distribution of $\mathbf{x}$ if we know y

also Fst the subgroup and the total group the difference of H (种群结构的存在而造成的杂合子频数的降低) confused **find out**

# 2021-9-22
+ **GRE阅读3**
+ **Forest Microbiome代码**
+ **the book of why**
+ **审稿人2问题回答**
+ **wes认证**


# 2021-9-23
+ **Gre阅读2**
+ **审稿人2问题文章中修改**
+ **整理phage代码**
+ **因果理论数学推断**
+ **阅读识别G4论文**

## 识别G4方法
基于209个特征，GBM实现

201 个 左侧50nt中三联体和ATG的数量，右侧50nt中三联体和ATG数量，潜在G4中三连体数量ATG数量 69*3
八个环状特征

回归问题

# 2021-9-24
+ **Gre阅读2**
+ **基因结构预测paper**
+ **因果理论库**
+ **适用G4识别器**
+ **Cordy Lab准备、个人陈述准备**

## 解决服务器git clone慢问题
https://cloud.tencent.com/developer/article/1761668
```bash
git clone https://github.com.cnpmjs.org/Hackergeek/architecture-samples
```
目前该镜像无法正确运行
```bash
git clone https://hub.fastgit.org/kubernetes/kubernetes.git
```
## 拆分fasta 按照染色体命令

```shell
cat result.fasta | awk 'BEGIN { CHROM="" } { if ($1~"^>") CHROM=substr($1,2); print $0 > CHROM".fa" }'
```

## 按照要求截取fasta代码
```python
def main():
   
    outfile="../Arabidopsis_sequence/result.fasta"
    fastafile='../Arabidopsis_sequence/An-1.chr.all.v2.0.fasta'
    idfile='../Arabidopsis_sequence/list.txt'


    idfile = open(idfile, 'r')
    resultfile = open(outfile, 'w')
    for id in idfile:
        qid = id.strip()
        flag = 0 
        with open(fastafile,'r') as ffile:
            for line in ffile:
                line = line.strip()
                if line.startswith('>'):
                    name = line.replace('>','').split()[0]
                    if name == qid:
                        flag = 1
                        resultfile.write(line + '\n')
                    else:
                        flag = 0
                else:
                    if flag == 0:
                        pass
                    else:
                        resultfile.write(line + '\n')
    resultfile.close()


if __name__ == '__main__':
    main()



```

# 2021-9-25
## PLAN
+ **Gre套题1**
+ **psqfinder -> bed file**
+ **百面RNN 辅助花书学习**
+ **完成文献查询，关于假阳性基因**

## GFF -> BED
```bash
cat chr5.gff | grep -v exon | cut -f1,4,5,3,6,7 | cut -f1 -d";" | awk '{print $1, $3,$4,$2, $5,$6}' | sed -e 's/ /\t/g' | sed -e 's/\"//g' > /home/ubuntu/Arabidopsis/Arabidopsis_sequence/chr5.g4.bed
 ```

## 拟南芥project
https://www.justice.gov/opa/pr/huawei-cfo-wanzhou-meng-admits-misleading-global-financial-institution

## phage
利用uniprot建库检验

# 2021-9-26
## PLAN
+ **Gre单词**
+ **文献阅读整理**
+ **修改文章完毕**
+ **Forest Microbiome**

## phage
+ *att* sites identification
+ window size 3 -> 6

## Stone 
https://www.pascaltitle.com/
https://sites.google.com/view/rafaeldandrea/home

## 1001 Genome
+ 下载Col-0 尽可能多的信息 比较fold 复现 +转座子
+ 转座子 和 G4关联 多个种 地理考虑 进化考虑


# 2021-9-27
## PLAN
+ **完成cover letter**
+ **完成TE识别软件安装**
+ **GRE阅读4填空4**

# 2021-9-28
## PLAN
+ **GRE阅读3填空3**
+ **Cover Letter 定稿**
+ **研究fold代码**

## 统计fold change代码
 
 ```bash
%%bash 
awk '{sum +=$3-$2}END{print sum}' quadron+.bed 
awk '{sum +=$3-$2}END{print sum}' quadron-.bed 
awk '{sum +=$2-10000}END{print sum}' hg19.genome
```

```R
all_cov=12229294+12175905
all_total=2880813286*2
all_cov_bp=(12229294+12175905.)/(2880813286*2)

```

总结利用coverage计算比例

## VSCode 反复输入密码
+ 菜单栏里view，点击command palette
+ 输入remote-ssh: kill vs code server on host…
+ 再次输入密码即可重新登录。

## 统计fasta碱基数
```shell
grep -v '>' input.fa| perl -ne  '{$count_A=$count_A+($_=~tr/A//);$count_T=$count_T+($_=~tr/T//);$count_G=$count_G+($_=~tr/G//);$count_C=$count_C+($_=~tr/C//);$count_N=$count_N+($_=~tr/N//)};END{print qq{total count is },$count_A+$count_T+$count_G+$count_C+$count_N, qq{\nGC%:},($count_G+$count_C)/($count_A+$count_T+$count_G+$count_C+$cont_N),qq{\n} }'
```

# 2021-9-29
## PLAN
+ **Cover letter修改**
+ **GRE阅读3填空3**

## LAB
https://sbmi.uth.edu/ccsm/members.htm

## bedtool 
### Intersect
```bash
bedtools intersect [OPTIONS] -a <FILE> \
                             -b <FILE1, FILE2, ..., FILEN>
```

## 计算TE覆盖率步骤
+ 识别TE

```bash
source activate
conda EDTA
EDTA.pl --genome chr1.fa > chr1.data
```
+ TE的gff 转 bed
```bash
cat chr1.TE.gff | grep -v exon | cut -f1,4,5,3,6,7 | cut -f1 -d";" | awk '{print $1, $3,$4,$2, $5,$6}' | sed -e 's/ /\t/g' | sed -e 's/\"//g' > /home/ubuntu/Arabidopsis/Arabidopsis_sequence/chr1.TE.bed
```

+ intersect 交集
```bash
bedtools intersect -a chr1.TE.bed -b chr1.g4.bed
```
+ 计算$\frac{Count_{intersect_{TE\text{-}G4}}}{Count_{TE}}$

```R
print(g4_chr1/chr1_total)
print(chr1_g4_TE/chr1_TE)
```

# 2021-9-30
## PLAN
+ **GRE阅读3填空3**
+ **Cover Letter定稿**